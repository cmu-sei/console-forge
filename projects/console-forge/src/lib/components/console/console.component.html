<!-- ===BEGIN LICENSE=== -->
<!-- Copyright 2025 Carnegie Mellon University. All rights reserved. -->
<!-- Released under an MIT (SEI)-style license. See the LICENSE.md file for license information. -->
<!-- ===END LICENSE=== -->

<div #componentContainer class="console-component flex"
    [class.flex-column]="userSettings().toolbar.dockTo === 'top' || userSettings().toolbar.dockTo === 'bottom'">

    <cf-console-toolbar
        [class.flex-order-1]="userSettings().toolbar.dockTo === 'right' || userSettings().toolbar.dockTo === 'bottom'"
        [consoleCanvas]="consoleCanvasElement" [consoleClient]="consoleClient()!"
        [consoleNetworkConfig]="networkConfig()" (canvasRecordingFinished)="consoleRecorded.emit($event)"
        (canvasRecordingStarted)="handleConsoleRecordingStarted()" [customToolbarComponent]="toolbarComponent()"
        (ctrlAltDelSent)="handleCtrlAltDelSent()" (networkConnectionRequested)="networkConnectionRequested.emit($event)"
        (powerRequestSent)="powerRequestSent.emit($event)"
        (networkDisconnectRequested)="networkDisconnectRequested.emit()"
        (screenshotCopied)="handleScreenshotCopied($event)"
        (toggleFullscreen)="handleFullscreen()"></cf-console-toolbar>

    <div class="console-host-container"
        [class.flex-order-0]="userSettings().toolbar.dockTo === 'right' || userSettings().toolbar.dockTo === 'bottom'">

        <cf-console-status [status]="consoleClient()?.connectionStatus()"></cf-console-status>

        <div #consoleHost [id]="consoleHostElementId" class="console-host" [class.recording]="isRecording()">
        </div>
    </div>
</div>
