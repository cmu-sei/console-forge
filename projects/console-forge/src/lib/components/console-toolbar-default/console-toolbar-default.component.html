<!-- ===BEGIN LICENSE=== -->
<!-- Copyright 2025 Carnegie Mellon University. All rights reserved. -->
<!-- Released under an MIT (SEI)-style license. See the LICENSE.md file for license information. -->
<!-- ===END LICENSE=== -->

@if (consoleContext()) {
<div class="toolbar-container" cfApplyToolbarTheme
    [class.horizontal]="consoleContext().userSettings.settings().toolbar.dockTo == 'top' || consoleContext().userSettings.settings().toolbar.dockTo == 'bottom' ">
    <div class="button-container">
        <cf-console-toolbar-default-button label="Settings" (clicked)="handleSettingsDialogOpenClose(true)">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.0002 8C9.79111 8 8.00024 9.79086 8.00024 12C8.00024 14.2091 9.79111 16 12.0002 16C14.2094 16 16.0002 14.2091 16.0002 12C16.0002 9.79086 14.2094 8 12.0002 8ZM10.0002 12C10.0002 10.8954 10.8957 10 12.0002 10C13.1048 10 14.0002 10.8954 14.0002 12C14.0002 13.1046 13.1048 14 12.0002 14C10.8957 14 10.0002 13.1046 10.0002 12Z"
                        fill="#000000"></path>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M11.2867 0.5C9.88583 0.5 8.6461 1.46745 8.37171 2.85605L8.29264 3.25622C8.10489 4.20638 7.06195 4.83059 6.04511 4.48813L5.64825 4.35447C4.32246 3.90796 2.83873 4.42968 2.11836 5.63933L1.40492 6.83735C0.67773 8.05846 0.954349 9.60487 2.03927 10.5142L2.35714 10.7806C3.12939 11.4279 3.12939 12.5721 2.35714 13.2194L2.03927 13.4858C0.954349 14.3951 0.67773 15.9415 1.40492 17.1626L2.11833 18.3606C2.83872 19.5703 4.3225 20.092 5.64831 19.6455L6.04506 19.5118C7.06191 19.1693 8.1049 19.7935 8.29264 20.7437L8.37172 21.1439C8.6461 22.5325 9.88584 23.5 11.2867 23.5H12.7136C14.1146 23.5 15.3543 22.5325 15.6287 21.1438L15.7077 20.7438C15.8954 19.7936 16.9384 19.1693 17.9553 19.5118L18.3521 19.6455C19.6779 20.092 21.1617 19.5703 21.8821 18.3606L22.5955 17.1627C23.3227 15.9416 23.046 14.3951 21.9611 13.4858L21.6432 13.2194C20.8709 12.5722 20.8709 11.4278 21.6432 10.7806L21.9611 10.5142C23.046 9.60489 23.3227 8.05845 22.5955 6.83732L21.8821 5.63932C21.1617 4.42968 19.678 3.90795 18.3522 4.35444L17.9552 4.48814C16.9384 4.83059 15.8954 4.20634 15.7077 3.25617L15.6287 2.85616C15.3543 1.46751 14.1146 0.5 12.7136 0.5H11.2867ZM10.3338 3.24375C10.4149 2.83334 10.7983 2.5 11.2867 2.5H12.7136C13.2021 2.5 13.5855 2.83336 13.6666 3.24378L13.7456 3.64379C14.1791 5.83811 16.4909 7.09167 18.5935 6.38353L18.9905 6.24984C19.4495 6.09527 19.9394 6.28595 20.1637 6.66264L20.8771 7.86064C21.0946 8.22587 21.0208 8.69271 20.6764 8.98135L20.3586 9.24773C18.6325 10.6943 18.6325 13.3057 20.3586 14.7523L20.6764 15.0186C21.0208 15.3073 21.0946 15.7741 20.8771 16.1394L20.1637 17.3373C19.9394 17.714 19.4495 17.9047 18.9905 17.7501L18.5936 17.6164C16.4909 16.9082 14.1791 18.1618 13.7456 20.3562L13.6666 20.7562C13.5855 21.1666 13.2021 21.5 12.7136 21.5H11.2867C10.7983 21.5 10.4149 21.1667 10.3338 20.7562L10.2547 20.356C9.82113 18.1617 7.50931 16.9082 5.40665 17.6165L5.0099 17.7501C4.55092 17.9047 4.06104 17.714 3.83671 17.3373L3.1233 16.1393C2.9058 15.7741 2.97959 15.3073 3.32398 15.0186L3.64185 14.7522C5.36782 13.3056 5.36781 10.6944 3.64185 9.24779L3.32398 8.98137C2.97959 8.69273 2.9058 8.2259 3.1233 7.86067L3.83674 6.66266C4.06106 6.28596 4.55093 6.09528 5.0099 6.24986L5.40676 6.38352C7.50938 7.09166 9.82112 5.83819 10.2547 3.64392L10.3338 3.24375Z"
                        fill="#000000"></path>
                </g>
            </svg>
        </cf-console-toolbar-default-button>

        @if(consoleContext().state.isManualReconnectAvailable())
        {
        <cf-console-toolbar-default-button label="Reconnect"
            (clicked)="consoleContext().console.sendReconnectRequest()">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C16.3556 22 20.0584 19.2159 21.4307 15.3332C21.6148 14.8125 21.3418 14.2412 20.8211 14.0572C20.3004 13.8731 19.7291 14.146 19.545 14.6668C18.4463 17.7753 15.4817 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C13.5516 4 14.8662 4.56117 16.1162 5.4406C16.9569 6.03212 17.7348 6.74106 18.5242 7.5H15.5C14.9477 7.5 14.5 7.94772 14.5 8.5C14.5 9.05228 14.9477 9.5 15.5 9.5H21C21.5523 9.5 22 9.05228 22 8.5V3C22 2.44772 21.5523 2 21 2C20.4477 2 20 2.44772 20 3V6.14371C19.1517 5.32583 18.2456 4.49337 17.267 3.80489C15.7949 2.76916 14.0847 2 12 2Z"
                        fill="#000000"></path>
                </g>
            </svg>
        </cf-console-toolbar-default-button>
        }

        @if (!consoleContext().state.isViewOnly() && consoleContext().state.isConnected()) {
        <div class="buttons-divider"></div>

        <cf-console-toolbar-default-button label="Keyboard" (clicked)="isKeyboardDialogOpen = true">
            <svg fill="#000000" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M1807.059 1637.706c0 31.059-25.299 56.47-56.47 56.47H169.411c-31.172 0-56.47-25.411-56.47-56.47v-903.53c0-31.058 25.298-56.47 56.47-56.47h1581.176c31.172 0 56.47 25.412 56.47 56.47v903.53Zm-56.47-1072.941h-729.262c14.908-86.965 65.958-113.506 133.384-147.163 89.336-44.611 200.583-100.291 200.583-304.602h-112.941c0 134.513-57.939 163.426-138.24 203.633-80.301 40.094-177.544 90.24-196.518 248.132H169.412C76.009 564.765 0 640.775 0 734.176v903.53c0 93.402 76.01 169.412 169.412 169.412h1581.176c93.403 0 169.412-76.01 169.412-169.412v-903.53c0-93.402-76.01-169.411-169.412-169.411Zm-564.707 677.647H734.118c-31.172 0-56.47 25.299-56.47 56.47v112.942c0 31.171 25.298 56.47 56.47 56.47h451.764c31.172 0 56.47-25.299 56.47-56.47v-112.942c0-31.171-25.298-56.47-56.47-56.47m338.824 0h-112.941c-31.172 0-56.47 25.299-56.47 56.47v112.942c0 31.171 25.298 56.47 56.47 56.47h112.94c31.173 0 56.471-25.299 56.471-56.47v-112.942c0-31.171-25.298-56.47-56.47-56.47m-1016.47 0H395.293c-31.172 0-56.47 25.299-56.47 56.47v112.942c0 31.171 25.298 56.47 56.47 56.47h112.941c31.172 0 56.47-25.299 56.47-56.47v-112.942c0-31.171-25.298-56.47-56.47-56.47m0-338.824h-112.94c-31.173 0-56.471 25.3-56.471 56.47V1073c0 31.172 25.298 56.47 56.47 56.47h112.941c31.172 0 56.47-25.298 56.47-56.47V960.059c0-31.172-25.298-56.47-56.47-56.47m225.883 225.882h112.94c31.173 0 56.471-25.3 56.471-56.471V960.059c0-31.172-25.298-56.47-56.47-56.47h-112.94c-31.172 0-56.47 25.298-56.47 56.47V1073c0 31.172 25.298 56.47 56.47 56.47m451.764-225.882h-112.94c-31.173 0-56.471 25.3-56.471 56.47V1073c0 31.172 25.298 56.47 56.47 56.47h112.941c31.172 0 56.47-25.298 56.47-56.47V960.059c0-31.172-25.298-56.47-56.47-56.47m338.824 0h-112.941c-31.172 0-56.47 25.298-56.47 56.47V1073c0 31.172 25.298 56.47 56.47 56.47h112.94c31.173 0 56.471-25.298 56.471-56.47V960.059c0-31.172-25.298-56.47-56.47-56.47"
                        fill-rule="evenodd"></path>
                </g>
            </svg>
        </cf-console-toolbar-default-button>

        @if(!cfConfig.disabledFeatures.clipboard) {
        <cf-console-toolbar-default-button [disabled]="!consoleContext().state.isConnected()" label="Clipboard"
            (clicked)="handleClipboardDialogOpenClose(true)">
            <svg viewBox="0 0 24 24" preserveAspectRatio="none" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M19.5 16.5L19.5 4.5L18.75 3.75H9L8.25 4.5L8.25 7.5L5.25 7.5L4.5 8.25V20.25L5.25 21H15L15.75 20.25V17.25H18.75L19.5 16.5ZM15.75 15.75L15.75 8.25L15 7.5L9.75 7.5V5.25L18 5.25V15.75H15.75ZM6 9L14.25 9L14.25 19.5L6 19.5L6 9Z"
                        fill="#080341"></path>
                </g>
            </svg>
        </cf-console-toolbar-default-button>
        }

        @if (consoleContext().networks.config()?.networks?.length) {
        <cf-console-toolbar-default-button label="Networks ({{ consoleContext().networks.config()?.networks?.length }})"
            (clicked)="handleNetworkDialogOpenClose(true)">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M3 12H21M12 8V12M6.5 12V16M17.5 12V16M10.1 8H13.9C14.4601 8 14.7401 8 14.954 7.89101C15.1422 7.79513 15.2951 7.64215 15.391 7.45399C15.5 7.24008 15.5 6.96005 15.5 6.4V4.6C15.5 4.03995 15.5 3.75992 15.391 3.54601C15.2951 3.35785 15.1422 3.20487 14.954 3.10899C14.7401 3 14.4601 3 13.9 3H10.1C9.53995 3 9.25992 3 9.04601 3.10899C8.85785 3.20487 8.70487 3.35785 8.60899 3.54601C8.5 3.75992 8.5 4.03995 8.5 4.6V6.4C8.5 6.96005 8.5 7.24008 8.60899 7.45399C8.70487 7.64215 8.85785 7.79513 9.04601 7.89101C9.25992 8 9.53995 8 10.1 8ZM15.6 21H19.4C19.9601 21 20.2401 21 20.454 20.891C20.6422 20.7951 20.7951 20.6422 20.891 20.454C21 20.2401 21 19.9601 21 19.4V17.6C21 17.0399 21 16.7599 20.891 16.546C20.7951 16.3578 20.6422 16.2049 20.454 16.109C20.2401 16 19.9601 16 19.4 16H15.6C15.0399 16 14.7599 16 14.546 16.109C14.3578 16.2049 14.2049 16.3578 14.109 16.546C14 16.7599 14 17.0399 14 17.6V19.4C14 19.9601 14 20.2401 14.109 20.454C14.2049 20.6422 14.3578 20.7951 14.546 20.891C14.7599 21 15.0399 21 15.6 21ZM4.6 21H8.4C8.96005 21 9.24008 21 9.45399 20.891C9.64215 20.7951 9.79513 20.6422 9.89101 20.454C10 20.2401 10 19.9601 10 19.4V17.6C10 17.0399 10 16.7599 9.89101 16.546C9.79513 16.3578 9.64215 16.2049 9.45399 16.109C9.24008 16 8.96005 16 8.4 16H4.6C4.03995 16 3.75992 16 3.54601 16.109C3.35785 16.2049 3.20487 16.3578 3.10899 16.546C3 16.7599 3 17.0399 3 17.6V19.4C3 19.9601 3 20.2401 3.10899 20.454C3.20487 20.6422 3.35785 20.7951 3.54601 20.891C3.75992 21 4.03995 21 4.6 21Z"
                        stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </g>
            </svg>
        </cf-console-toolbar-default-button>
        }

        @if (consoleContext().console.supportedFeatures().powerManagement) {
        <div class="buttons-divider"></div>

        <cf-console-toolbar-default-button label="Power" (clicked)="isPowerDialogOpen = true">
            <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M13 3C13 2.44772 12.5523 2 12 2C11.4477 2 11 2.44772 11 3V13C11 13.5523 11.4477 14 12 14C12.5523 14 13 13.5523 13 13V3Z"
                    fill="none" />
                <path
                    d="M6.2798 6.70707C6.67031 6.31653 6.67028 5.68337 6.27973 5.29286C5.88919 4.90235 5.25603 4.90238 4.86552 5.29293C3.09635 7.06226 2 9.49298 2 12.1764C2 17.6204 6.49591 22 12 22C17.5041 22 22 17.6204 22 12.1764C22 9.49298 20.9036 7.06226 19.1345 5.29293C18.744 4.90238 18.1108 4.90235 17.7203 5.29286C17.3297 5.68337 17.3297 6.31653 17.7202 6.70707C19.1338 8.12083 20 10.0503 20 12.1764C20 16.4787 16.437 20 12 20C7.56296 20 4 16.4787 4 12.1764C4 10.0503 4.86618 8.12083 6.2798 6.70707Z"
                    fill="none" />
            </svg>
        </cf-console-toolbar-default-button> }
        }

        <div class="buttons-divider"></div>

        <cf-console-toolbar-default-button (clicked)="consoleContext().console.copyScreenshot()"
            [disabled]="!consoleContext().state.isConnected()" label="Screenshot">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M9.15023 3.01742C9.13605 3.03985 9.12278 3.0676 9.11298 3.09958C9.11044 3.10789 9.10778 3.11617 9.10502 3.12442L8.36963 5.31787C8.23301 5.72537 7.85129 6 7.4215 6H3C2.44772 6 2 6.44772 2 7V20C2 20.5523 2.44771 21 3 21H21C21.5523 21 22 20.5523 22 20V7C22 6.44771 21.5523 6 21 6H16.331C15.9011 6 15.5194 5.72528 15.3828 5.31769L14.6479 3.12423C14.6452 3.11605 14.6425 3.10783 14.64 3.09958C14.6302 3.0676 14.6169 3.03985 14.6027 3.01742C14.5986 3.01089 14.5946 3.00509 14.5908 3H9.16221C9.1584 3.00509 9.15437 3.01089 9.15023 3.01742ZM7.20525 2.49911C7.43535 1.76672 8.10563 1 9.06392 1H14.6891C15.6474 1 16.3177 1.76679 16.5478 2.49922L17.0506 4H21C22.6569 4 24 5.34315 24 7V20C24 21.6569 22.6569 23 21 23H3C1.34315 23 0 21.6569 0 20V7C0 5.34315 1.34315 4 3 4H6.70206L7.20525 2.49911ZM7 13C7 10.2386 9.23858 8 12 8C14.7614 8 17 10.2386 17 13C17 15.7614 14.7614 18 12 18C9.23858 18 7 15.7614 7 13ZM12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10Z"
                        fill="#000000"></path>
                </g>
            </svg>
        </cf-console-toolbar-default-button>

        @if (!cfConfig.disabledFeatures.consoleScreenRecord) {
        <cf-console-toolbar-default-button (clicked)="handleRecordToggle()"
            [disabled]="!consoleContext().state.isRecordingAvailable()"
            [isOngoing]="!!consoleContext().state.activeConsoleRecording()" label="Record">
            @if (!consoleContext().state.activeConsoleRecording()) {
            <svg viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <title>record [#979]</title>
                    <desc>Created with Sketch.</desc>
                    <defs> </defs>
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Dribbble-Light-Preview" transform="translate(-100.000000, -3879.000000)" fill="#000000">
                            <g id="icons" transform="translate(56.000000, 160.000000)">
                                <path
                                    d="M56,3719 L56,3721 L62,3721 L62,3727 L64,3727 L64,3719 L56,3719 Z M58,3729.151 C58,3726.942 56.209,3725.151 54,3725.151 C51.791,3725.151 50,3726.942 50,3729.151 C50,3731.36 51.791,3733.151 54,3733.151 C56.209,3733.151 58,3731.36 58,3729.151 L58,3729.151 Z M62,3737 L56,3737 L56,3739 L64,3739 L64,3731 L62,3731 L62,3737 Z M46,3731 L44,3731 L44,3739 L52,3739 L52,3737 L46,3737 L46,3731 Z M46,3727 L44,3727 L44,3719 L52,3719 L52,3721 L46,3721 L46,3727 Z"
                                    id="record-[#979]"> </path>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
            } @else {
            <svg viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Dribbble-Light-Preview" transform="translate(-59.000000, -440.000000)" fill="#000000">
                            <g id="icons" transform="translate(56.000000, 160.000000)">
                                <path
                                    d="M9.3,294 L17.7,294 L17.7,286 L9.3,286 L9.3,294 Z M15.6,280 L15.6,282 L21.9,282 L21.9,288 L24,288 L24,280 L15.6,280 Z M21.9,298 L15.6,298 L15.6,300 L24,300 L24,292 L21.9,292 L21.9,298 Z M5.1,292 L3,292 L3,300 L11.4,300 L11.4,298 L5.1,298 L5.1,292 Z M5.1,288 L3,288 L3,280 L11.4,280 L11.4,282 L5.1,282 L5.1,288 Z"
                                    id="stop-[#1470]"> </path>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
            }
        </cf-console-toolbar-default-button>
        }

        <cf-console-toolbar-default-button (clicked)="consoleContext().console.toggleFullscreen()" label="Fullscreen">
            @if (consoleContext().state.isFullscreenAvailable()) {
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M4 2C2.89543 2 2 2.89543 2 4V8C2 8.55228 2.44772 9 3 9C3.55228 9 4 8.55228 4 8V4H8C8.55228 4 9 3.55228 9 3C9 2.44772 8.55228 2 8 2H4Z"
                        fill="#000000"></path>
                    <path
                        d="M20 2C21.1046 2 22 2.89543 22 4V8C22 8.55228 21.5523 9 21 9C20.4477 9 20 8.55228 20 8V4H16C15.4477 4 15 3.55228 15 3C15 2.44772 15.4477 2 16 2H20Z"
                        fill="#000000"></path>
                    <path
                        d="M20 22C21.1046 22 22 21.1046 22 20V16C22 15.4477 21.5523 15 21 15C20.4477 15 20 15.4477 20 16V20H16C15.4477 20 15 20.4477 15 21C15 21.5523 15.4477 22 16 22H20Z"
                        fill="#000000"></path>
                    <path
                        d="M2 20C2 21.1046 2.89543 22 4 22H8C8.55228 22 9 21.5523 9 21C9 20.4477 8.55228 20 8 20H4V16C4 15.4477 3.55228 15 3 15C2.44772 15 2 15.4477 2 16V20Z"
                        fill="#000000"></path>
                </g>
            </svg>
            } @else {
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M7 9C8.10457 9 9 8.10457 9 7V3C9 2.44772 8.55228 2 8 2C7.44772 2 7 2.44772 7 3V7H3C2.44772 7 2 7.44772 2 8C2 8.55228 2.44772 9 3 9H7Z"
                        fill="#000000"></path>
                    <path
                        d="M17 9C15.8954 9 15 8.10457 15 7V3C15 2.44772 15.4477 2 16 2C16.5523 2 17 2.44772 17 3V7H21C21.5523 7 22 7.44772 22 8C22 8.55228 21.5523 9 21 9H17Z"
                        fill="#000000"></path>
                    <path
                        d="M17 15C15.8954 15 15 15.8954 15 17V21C15 21.5523 15.4477 22 16 22C16.5523 22 17 21.5523 17 21V17H21C21.5523 17 22 16.5523 22 16C22 15.4477 21.5523 15 21 15H17Z"
                        fill="#000000"></path>
                    <path
                        d="M9 17C9 15.8954 8.10457 15 7 15H3C2.44772 15 2 15.4477 2 16C2 16.5523 2.44772 17 3 17H7V21C7 21.5523 7.44772 22 8 22C8.55228 22 9 21.5523 9 21V17Z"
                        fill="#000000"></path>
                </g>
            </svg>
            }
        </cf-console-toolbar-default-button>
    </div>

    <dialog [open]="isClipboardDialogOpen">
        <article>
            <header>
                <button aria-label="Close" rel="prev" (click)="handleClipboardDialogOpenClose(false)"></button>
                <p>
                    <strong>Clipboard</strong>
                </p>
            </header>

            @if (consoleContext().console.supportedFeatures().clipboardRemoteWrite) {
            <div class="dialog-section">
                <h2>Send Text to Console Clipboard</h2>
                <form (submit)="handleSendClipboardText($event, clipboardText.value)">
                    <fieldset role="group">
                        <input type="text" class="clipboard-text" aria-label="Clipboard text"
                            placeholder="Enter text to send to the console's clipboard" #clipboardText autofocus>
                        <button type="submit"
                            [disabled]="!clipboardText.value || !consoleContext().state.isConnected">Send</button>
                    </fieldset>
                </form>
            </div>
            }

            @if(!consoleContext().userSettings.settings().console.allowCopyToLocalClipboard ||
            !consoleContext().console.supportedFeatures().clipboardAutomaticLocalCopy) {
            <div class="dialog-section">
                <h2>Console Clipboard Content</h2>
                <form (submit)="handleClipboardCopyLastText(consoleLastClipboardText.value)">
                    <fieldset role="group">
                        <input type="text" class="clipboard-text" aria-label="Clipboard text" disabled
                            [value]="consoleContext().clipboard.consoleClipboardText()"
                            placeholder="The console's clipboard content will appear here" #consoleLastClipboardText>
                        <button type="submit" [disabled]="!consoleLastClipboardText.value">Copy</button>
                    </fieldset>
                </form>
            </div>
            }
        </article>
    </dialog>

    <dialog [open]="isKeyboardDialogOpen">
        <article>
            <header>
                <button aria-label="Close" rel="prev" (click)="isKeyboardDialogOpen = false"></button>
                <p>
                    <strong>Send Keystrokes</strong>
                </p>
            </header>

            <div class="dialog-section">
                <h2>Send Keystrokes to Console</h2>
                <form (submit)="handleSendKeyboardInput($event, keyboardInputText())">
                    <fieldset role="group">
                        <input type="text" name="keyboardInputText" class="clipboard-text" aria-label="Clipboard text"
                            placeholder="Enter text to send as keyboard input to the console" autofocus
                            [(ngModel)]="keyboardInputText">
                        <button type="submit"
                            [disabled]="!keyboardInputText() || !consoleContext().state.isConnected">Send</button>
                    </fieldset>
                </form>
            </div>

            <div class="dialog-section">
                <h2>Special Key Combinations</h2>

                <div class="dialog-button-group">
                    <button type="button" aria-label="Send Ctrl+Alt+Delete" (click)="handlSendKeyboardCtrlAltDel()">
                        Ctrl + Alt + Delete
                    </button>
                </div>
            </div>
        </article>
    </dialog>

    <dialog [open]="isNetworkDialogOpen">
        <article>
            <header>
                <button aria-label="Close" rel="prev" (click)="handleNetworkDialogOpenClose(false)"></button>
                <p>
                    <strong>Networks</strong>
                </p>
            </header>

            <form>
                @for (nic of consoleContext().networks.config()?.nics; track nic)
                {
                <label for="nic-{{ nic }}-select">{{ nic }}</label>
                <fieldset role="group">
                    <select #availableNetworksSelect name="nic-{{ nic }}-select"
                        aria-label="Select a network to connect to">
                        <option [selected]="!consoleContext().networks.config()?.currentConnections?.[nic]" value="">
                            [Disconnected]
                        </option>

                        @for(network of consoleContext().networks.config()?.networks; track network) {
                        <option [value]="network"
                            [selected]="consoleContext().networks.config()?.currentConnections?.[nic] === network">
                            {{ network }}
                        </option>
                        }
                    </select>

                    <button type="button"
                        (click)="handleNetworkChangeRequested({ network: availableNetworksSelect.value, nic: nic })">
                        {{ availableNetworksSelect.value ? "Connect" : "Disconnect" }}
                    </button>
                </fieldset>
                }
                <hr />
                <div class="dialog-button-group">
                    <button class="secondary" type="button" (click)="handleNetworkDisconnectAllRequested()">
                        Disconnect All Network Interfaces
                    </button>
                </div>
            </form>
        </article>
    </dialog>

    <dialog [open]="isPowerDialogOpen">
        <article>
            <header>
                <button aria-label="Close" rel="prev" (click)="isPowerDialogOpen = false"></button>
                <p>
                    <strong>Power</strong>
                </p>
            </header>

            <div class="dialog-button-group">
                <button type="button" (click)="handleSendPowerRequest('reboot')">Request Reboot</button>
                <button type="button" (click)="handleSendPowerRequest('shutdown')">Request Shutdown</button>
                <hr />
                <button class="secondary" type="button" (click)="handleSendPowerRequest('rebootHard')">
                    Request Hard Reboot
                </button>
            </div>
        </article>
    </dialog>

    <dialog [open]="isSettingsDialogOpen">
        <article>
            <header>
                <button aria-label="Close" rel="prev" (click)="handleSettingsDialogOpenClose(false)"></button>
                <p>
                    <strong>Settings</strong>
                </p>
            </header>

            <div class="settings-form">
                <h4>Behavior</h4>
                <fieldset>
                    <label>
                        <input #inputAllowLocalClipboardWrite type="checkbox" name="allowLocalClipboardWrite"
                            [checked]="consoleContext().userSettings.settings().console.allowCopyToLocalClipboard"
                            (change)="handleSettingsAllowLocalClipboardWrite(inputAllowLocalClipboardWrite.checked)" />
                        Allow the remote machine to copy text to my local clipboard
                    </label>
                    <label>
                        <input #inputAttemptRemoteSessionResize type="checkbox" name="attemptRemoteSessionResize"
                            [checked]="consoleContext().userSettings.settings().console.attemptRemoteSessionResize"
                            (change)="handleSettingsAttemptRemoteSessionResize(inputAttemptRemoteSessionResize.checked)" />
                        Attempt to resize the remote session to match local resolution
                    </label>
                    <label>
                        <input #inputScaleToContainerSize type="checkbox" name="scaleToContainerSize"
                            [checked]="consoleContext().userSettings.settings().console.scaleToCanvasHostSize"
                            (change)="handleSettingsScaleToContainerHostSize(inputScaleToContainerSize.checked)" />
                        Scale to maximum available size
                    </label>
                </fieldset>

                <div class="settings-toolbar-dock">
                    <h4>Toolbar Position</h4>
                    <div role="group">
                        <button (click)="handleChangeToolbarPosition('left')"
                            [disabled]="consoleContext().userSettings.settings().toolbar.dockTo === 'left'">Left</button>
                        <button (click)="handleChangeToolbarPosition('right')"
                            [disabled]="consoleContext().userSettings.settings().toolbar.dockTo === 'right'">Right</button>
                        <!-- see https://github.com/cmu-sei/console-forge/issues/12 -->
                        <!-- <button (click)="handleChangeToolbarPosition('top')"
                            [disabled]="consoleContext().userSettings.settings().toolbar.dockTo === 'top'">Top</button>
                        <button (click)="handleChangeToolbarPosition('bottom')"
                            [disabled]="consoleContext().userSettings.settings().toolbar.dockTo === 'bottom'">Bottom</button> -->
                    </div>
                </div>

                <div class="settings-theme">
                    <h4>Theme</h4>
                    <div role="group">
                        <button (click)="handleToolbarThemeChange('light')"
                            [disabled]="consoleContext().userSettings.settings().toolbar.preferTheme === 'light'">Light</button>
                        <button (click)="handleToolbarThemeChange('dark')"
                            [disabled]="consoleContext().userSettings.settings().toolbar.preferTheme === 'dark'">Dark</button>
                        <button (click)="handleToolbarThemeChange(undefined)"
                            [disabled]="consoleContext().userSettings.settings().toolbar.preferTheme === undefined">
                            My Default
                        </button>
                    </div>
                </div>
            </div>
        </article>
    </dialog>
</div>
}
